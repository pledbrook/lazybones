buildscript {
    repositories {
        maven {
            url "http://dl.bintray.com/pledbrook/plugins"
        }
    }

    dependencies {
        classpath "uk.co.cacoethes:lazybones-gradle:1.0"
    }
}

apply plugin: "lazybones-templates"

lazybones {
    if (hasProperty('repo.url') && hasProperty('repo.username') && hasProperty('repo.apiKey')) {
        repositoryUrl = project.'repo.url'
        repositoryUsername = project.'repo.username'
        repositoryApiKey = project.'repo.apiKey'
    }
}

// The test-tmpl template should *not* be published, so we exclude that particular
// task from the build.
gradle.taskGraph.useFilter({ task -> task.name != "publishTemplateTestTmpl" } as Spec)
